<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bfelf_load_instr Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">bfelf_load_instr Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a39902d86867550729150daab114de765"><td class="memItemLeft" align="right" valign="top">bfelf64_word&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbfelf__load__instr.html#a39902d86867550729150daab114de765">perm</a></td></tr>
<tr class="separator:a39902d86867550729150daab114de765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a149f13c404136ec74e2e3f07a3c2cd7a"><td class="memItemLeft" align="right" valign="top">bfelf64_off&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbfelf__load__instr.html#a149f13c404136ec74e2e3f07a3c2cd7a">mem_offset</a></td></tr>
<tr class="separator:a149f13c404136ec74e2e3f07a3c2cd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833d6f5d85eadf24007600cd7dfd79cb"><td class="memItemLeft" align="right" valign="top">bfelf64_off&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbfelf__load__instr.html#a833d6f5d85eadf24007600cd7dfd79cb">file_offset</a></td></tr>
<tr class="separator:a833d6f5d85eadf24007600cd7dfd79cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ca2f20886c194f6dca0d6c4dbe437d"><td class="memItemLeft" align="right" valign="top">bfelf64_xword&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbfelf__load__instr.html#a16ca2f20886c194f6dca0d6c4dbe437d">memsz</a></td></tr>
<tr class="separator:a16ca2f20886c194f6dca0d6c4dbe437d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a759a7c60bf7008aec70137f65f5899ee"><td class="memItemLeft" align="right" valign="top">bfelf64_xword&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbfelf__load__instr.html#a759a7c60bf7008aec70137f65f5899ee">filesz</a></td></tr>
<tr class="separator:a759a7c60bf7008aec70137f65f5899ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ef299fd281637b0e8e9a53fe817b48"><td class="memItemLeft" align="right" valign="top">bfelf64_addr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbfelf__load__instr.html#a72ef299fd281637b0e8e9a53fe817b48">virt_addr</a></td></tr>
<tr class="separator:a72ef299fd281637b0e8e9a53fe817b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ELF Load Segment</p>
<p>The load instructions that each segment provides is missing some helpful info. This structure provides the info that is needed, in a cleaned up format.</p>
<p>Note that there are two different char * buffers that you need to know about when loading a segment. There is the char * for the ELF file, and the char * for the memory that the ELF file is being loaded into. The ELF file does not equal memory. The best example is the BSS section, which is empty in the ELF file. Also, the RE vs RW sections are usually aligned. To use this information use the following steps:</p><ul>
<li>get the total size of memory</li>
<li>allocate RW memory for the total size</li>
<li>get the number of load instructions</li>
<li>loop through each load instruction and copy the file char * to the mem char * using the file/mem offset/size.</li>
<li>map memory using the virt_addr and mem_size </li>
</ul>

<p class="definition">Definition at line <a class="el" href="bfelf__loader_8h_source.html#l00207">207</a> of file <a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a39902d86867550729150daab114de765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39902d86867550729150daab114de765">&#9670;&nbsp;</a></span>perm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bfelf_load_instr::perm</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>defines the permissions (read/write/execute) for this segment </p>

<p class="definition">Definition at line <a class="el" href="bfelf__loader_8h_source.html#l00209">209</a> of file <a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a>.</p>

</div>
</div>
<a id="a149f13c404136ec74e2e3f07a3c2cd7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a149f13c404136ec74e2e3f07a3c2cd7a">&#9670;&nbsp;</a></span>mem_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bfelf_load_instr::mem_offset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>defines the segment offset in memory </p>

<p class="definition">Definition at line <a class="el" href="bfelf__loader_8h_source.html#l00210">210</a> of file <a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a>.</p>

</div>
</div>
<a id="a833d6f5d85eadf24007600cd7dfd79cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833d6f5d85eadf24007600cd7dfd79cb">&#9670;&nbsp;</a></span>file_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bfelf_load_instr::file_offset</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>defines the segment offset in the ELF file </p>

<p class="definition">Definition at line <a class="el" href="bfelf__loader_8h_source.html#l00211">211</a> of file <a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a>.</p>

</div>
</div>
<a id="a16ca2f20886c194f6dca0d6c4dbe437d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ca2f20886c194f6dca0d6c4dbe437d">&#9670;&nbsp;</a></span>memsz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bfelf_load_instr::memsz</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>defines the segment size in memory </p>

<p class="definition">Definition at line <a class="el" href="bfelf__loader_8h_source.html#l00212">212</a> of file <a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a>.</p>

</div>
</div>
<a id="a759a7c60bf7008aec70137f65f5899ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a759a7c60bf7008aec70137f65f5899ee">&#9670;&nbsp;</a></span>filesz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bfelf_load_instr::filesz</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>defines the segment size in the ELF file </p>

<p class="definition">Definition at line <a class="el" href="bfelf__loader_8h_source.html#l00213">213</a> of file <a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a>.</p>

</div>
</div>
<a id="a72ef299fd281637b0e8e9a53fe817b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ef299fd281637b0e8e9a53fe817b48">&#9670;&nbsp;</a></span>virt_addr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bfelf_load_instr::virt_addr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>defines the assumed virtual address of the segment if PIC == false </p>

<p class="definition">Definition at line <a class="el" href="bfelf__loader_8h_source.html#l00214">214</a> of file <a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/user/hypervisor/bfelf_loader/include/<a class="el" href="bfelf__loader_8h_source.html">bfelf_loader.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 28 2017 21:30:48 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
