<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/user/hypervisor/bfdrivers/src/arch/test/platform.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_eae885c4b325bb89cc11c04efa49124b.html">bfdrivers</a></li><li class="navelem"><a class="el" href="dir_b4d672ce61df86380d6b627e9db98ce3.html">src</a></li><li class="navelem"><a class="el" href="dir_129d0ceca34e94ba38afdbdb9ca778e3.html">arch</a></li><li class="navelem"><a class="el" href="dir_4831ee692b894ed71da5d71bb67a9837.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">platform.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="test_2platform_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a3024ccd4a9af5109d24e6c57565d74a1">_POSIX_C_SOURCE</a>&#160;&#160;&#160;200809L</td></tr>
<tr class="separator:a3024ccd4a9af5109d24e6c57565d74a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27967e31c052b247b648c2629b17462b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a27967e31c052b247b648c2629b17462b">PAGE_ROUND_UP</a>(x)&#160;&#160;&#160;( (((uintptr_t)(x)) + <a class="el" href="constants_8h.html#a7c4410712a9f7874ae814e10ebbc3f5b">MAX_PAGE_SIZE</a>-1)  &amp; (~(<a class="el" href="constants_8h.html#a7c4410712a9f7874ae814e10ebbc3f5b">MAX_PAGE_SIZE</a>-1)) )</td></tr>
<tr class="separator:a27967e31c052b247b648c2629b17462b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4e274ecf72fb18bf3d147055dc4b8bba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a4e274ecf72fb18bf3d147055dc4b8bba">verify_no_mem_leaks</a> (void)</td></tr>
<tr class="separator:a4e274ecf72fb18bf3d147055dc4b8bba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3bd6ec62aec9a78564819bbe52af917"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#ad3bd6ec62aec9a78564819bbe52af917">platform_alloc_rw</a> (uint64_t len)</td></tr>
<tr class="separator:ad3bd6ec62aec9a78564819bbe52af917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ad1cb4df5880352199e76717b47ff8"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#aa7ad1cb4df5880352199e76717b47ff8">platform_alloc_rwe</a> (uint64_t len)</td></tr>
<tr class="separator:aa7ad1cb4df5880352199e76717b47ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f0f03188543c8cf63778e42c9a78883"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a2f0f03188543c8cf63778e42c9a78883">platform_free_rw</a> (void *addr, uint64_t len)</td></tr>
<tr class="separator:a2f0f03188543c8cf63778e42c9a78883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f6d773025b9f49ee69bd87b8b1c472"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#ac2f6d773025b9f49ee69bd87b8b1c472">platform_free_rwe</a> (void *addr, uint64_t len)</td></tr>
<tr class="separator:ac2f6d773025b9f49ee69bd87b8b1c472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941dbd741955a9cfb09f95d54e32b132"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a941dbd741955a9cfb09f95d54e32b132">platform_virt_to_phys</a> (void *<a class="el" href="test__page__table__x64_8cpp.html#a6cd338072755a42673fecfed481aa36d">virt</a>)</td></tr>
<tr class="separator:a941dbd741955a9cfb09f95d54e32b132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae879c4d503d017e6c9a7c5e59ba7b229"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#ae879c4d503d017e6c9a7c5e59ba7b229">platform_memset</a> (void *ptr, char value, uint64_t num)</td></tr>
<tr class="separator:ae879c4d503d017e6c9a7c5e59ba7b229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab68b48bb173c47957afe3d4377e7eb18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#ab68b48bb173c47957afe3d4377e7eb18">platform_memcpy</a> (void *dst, const void *src, uint64_t num)</td></tr>
<tr class="separator:ab68b48bb173c47957afe3d4377e7eb18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1707ee732a5c96de8695bfafdc4eb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a8e1707ee732a5c96de8695bfafdc4eb4">platform_start</a> (void)</td></tr>
<tr class="separator:a8e1707ee732a5c96de8695bfafdc4eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6180332959ebfc8a59cf65f8f63f6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#afb6180332959ebfc8a59cf65f8f63f6e">platform_stop</a> (void)</td></tr>
<tr class="separator:afb6180332959ebfc8a59cf65f8f63f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18518fd53be698fe34e3c491d0410627"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a18518fd53be698fe34e3c491d0410627">platform_num_cpus</a> (void)</td></tr>
<tr class="separator:a18518fd53be698fe34e3c491d0410627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bc29a7374a2b0c92705c4e34c4eeaa"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a55bc29a7374a2b0c92705c4e34c4eeaa">platform_set_affinity</a> (int64_t affinity)</td></tr>
<tr class="separator:a55bc29a7374a2b0c92705c4e34c4eeaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe4199856d6b5541474ee90a8229ffd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#abe4199856d6b5541474ee90a8229ffd8">platform_restore_affinity</a> (int64_t affinity)</td></tr>
<tr class="separator:abe4199856d6b5541474ee90a8229ffd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566274c2deba7ff84110c43285e36991"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a566274c2deba7ff84110c43285e36991">platform_vmcall</a> (struct <a class="el" href="structvmcall__registers__t.html">vmcall_registers_t</a> *regs)</td></tr>
<tr class="separator:a566274c2deba7ff84110c43285e36991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356fa738ea867acf5b3f2e84c5844ceb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a356fa738ea867acf5b3f2e84c5844ceb">platform_vmcall_event</a> (struct <a class="el" href="structvmcall__registers__t.html">vmcall_registers_t</a> *regs)</td></tr>
<tr class="separator:a356fa738ea867acf5b3f2e84c5844ceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a66abd5af63732215ea33a81556edf15b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a66abd5af63732215ea33a81556edf15b">alloc_count_rw</a> = 0</td></tr>
<tr class="separator:a66abd5af63732215ea33a81556edf15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57944eb6e4a022852985be0ce87bc566"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a57944eb6e4a022852985be0ce87bc566">alloc_count_rwe</a> = 0</td></tr>
<tr class="separator:a57944eb6e4a022852985be0ce87bc566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ac4849dabf040a0734f00b0798de9d"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#aa4ac4849dabf040a0734f00b0798de9d">g_malloc_fails</a> = 0</td></tr>
<tr class="separator:aa4ac4849dabf040a0734f00b0798de9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1892ac6adea4dfb4f52b190e5606c8eb"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#a1892ac6adea4dfb4f52b190e5606c8eb">g_set_afinity_fails</a> = 0</td></tr>
<tr class="separator:a1892ac6adea4dfb4f52b190e5606c8eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedca096dc1ec224a138efb889fbd5d2c"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="test_2platform_8c.html#aedca096dc1ec224a138efb889fbd5d2c">g_vmcall</a> = 0</td></tr>
<tr class="separator:aedca096dc1ec224a138efb889fbd5d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3024ccd4a9af5109d24e6c57565d74a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3024ccd4a9af5109d24e6c57565d74a1">&#9670;&nbsp;</a></span>_POSIX_C_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _POSIX_C_SOURCE&#160;&#160;&#160;200809L</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00023">23</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a27967e31c052b247b648c2629b17462b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27967e31c052b247b648c2629b17462b">&#9670;&nbsp;</a></span>PAGE_ROUND_UP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ROUND_UP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;( (((uintptr_t)(x)) + <a class="el" href="constants_8h.html#a7c4410712a9f7874ae814e10ebbc3f5b">MAX_PAGE_SIZE</a>-1)  &amp; (~(<a class="el" href="constants_8h.html#a7c4410712a9f7874ae814e10ebbc3f5b">MAX_PAGE_SIZE</a>-1)) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00035">35</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4e274ecf72fb18bf3d147055dc4b8bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e274ecf72fb18bf3d147055dc4b8bba">&#9670;&nbsp;</a></span>verify_no_mem_leaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int verify_no_mem_leaks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00042">42</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="ad3bd6ec62aec9a78564819bbe52af917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3bd6ec62aec9a78564819bbe52af917">&#9670;&nbsp;</a></span>platform_alloc_rw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* platform_alloc_rw </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate Memory</p>
<p>Used by the common code to allocate virtual memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>the size of virtual memory to be allocated in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a virtual address pointing to the newly allocated memory </dd></dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00051">51</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="aa7ad1cb4df5880352199e76717b47ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ad1cb4df5880352199e76717b47ff8">&#9670;&nbsp;</a></span>platform_alloc_rwe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* platform_alloc_rwe </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate Executable Memory</p>
<p>Used by the common code to allocate executable virtual memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>the size of virtual memory to be allocated in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a virtual address pointing to the newly allocated memory </dd></dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00063">63</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a2f0f03188543c8cf63778e42c9a78883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f0f03188543c8cf63778e42c9a78883">&#9670;&nbsp;</a></span>platform_free_rw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_free_rw </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free Memory</p>
<p>Used by the common code to free virtual memory that was allocated using the platform_alloc function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>the virtual address returned from platform_alloc </td></tr>
    <tr><td class="paramname">len</td><td>the size of the memory allocated </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00087">87</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="ac2f6d773025b9f49ee69bd87b8b1c472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f6d773025b9f49ee69bd87b8b1c472">&#9670;&nbsp;</a></span>platform_free_rwe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_free_rwe </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free Executable Memory</p>
<p>Used by the common code to free virtual memory that was allocated using the platform_alloc_exec function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>the virtual address returned from platform_alloc_exec </td></tr>
    <tr><td class="paramname">len</td><td>the size of the memory allocated </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00096">96</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a941dbd741955a9cfb09f95d54e32b132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a941dbd741955a9cfb09f95d54e32b132">&#9670;&nbsp;</a></span>platform_virt_to_phys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* platform_virt_to_phys </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>virt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert Virtual Address to Physical Address</p>
<p>Given a virtual address, this function returns the associated physical address. Note that any page pool issues should be handle by the platform (i.e. the users of this function should be able to provide any virtual address, regardless of where the address originated from).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">virt</td><td>the virtual address to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the physical address assocaited with the provided virtual address </dd></dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00105">105</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="ae879c4d503d017e6c9a7c5e59ba7b229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae879c4d503d017e6c9a7c5e59ba7b229">&#9670;&nbsp;</a></span>platform_memset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_memset </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Memset</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>a pointer to the memory to set </td></tr>
    <tr><td class="paramname">value</td><td>the value to set each byte to </td></tr>
    <tr><td class="paramname">num</td><td>the number of bytes to set </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00111">111</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="ab68b48bb173c47957afe3d4377e7eb18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab68b48bb173c47957afe3d4377e7eb18">&#9670;&nbsp;</a></span>platform_memcpy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_memcpy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Memcpy</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst</td><td>a pointer to the memory to copy to </td></tr>
    <tr><td class="paramname">src</td><td>a pointer to the memory to copy from </td></tr>
    <tr><td class="paramname">num</td><td>the number of bytes to copy </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00120">120</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a8e1707ee732a5c96de8695bfafdc4eb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1707ee732a5c96de8695bfafdc4eb4">&#9670;&nbsp;</a></span>platform_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start</p>
<p>Run after the start function has been executed. </p>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00129">129</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="afb6180332959ebfc8a59cf65f8f63f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb6180332959ebfc8a59cf65f8f63f6e">&#9670;&nbsp;</a></span>platform_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop</p>
<p>Run after the stop function has been executed. </p>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00134">134</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a18518fd53be698fe34e3c491d0410627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18518fd53be698fe34e3c491d0410627">&#9670;&nbsp;</a></span>platform_num_cpus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t platform_num_cpus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get Number of CPUs</p>
<dl class="section return"><dt>Returns</dt><dd>returns the total number of CPUs available to the driver. </dd></dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00139">139</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a55bc29a7374a2b0c92705c4e34c4eeaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55bc29a7374a2b0c92705c4e34c4eeaa">&#9670;&nbsp;</a></span>platform_set_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t platform_set_affinity </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>affinity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set CPU affinity</p>
<p>Changes the current core that the driver is running on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">affinity</td><td>the cpu number to change to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The affinity mask of the CPU before the change </dd></dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00145">145</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="abe4199856d6b5541474ee90a8229ffd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe4199856d6b5541474ee90a8229ffd8">&#9670;&nbsp;</a></span>platform_restore_affinity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_restore_affinity </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>affinity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restore CPU affinity</p>
<p>If an OS requires the cores used by the user space thread to match on return from a call into the kernel (e.g. IOCTL), reset the affinity to it's previous state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">affinity</td><td>the cpu affinity mask. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00156">156</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a566274c2deba7ff84110c43285e36991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566274c2deba7ff84110c43285e36991">&#9670;&nbsp;</a></span>platform_vmcall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_vmcall </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcall__registers__t.html">vmcall_registers_t</a> *&#160;</td>
          <td class="paramname"><em>regs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VMCall</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regs</td><td>the vmcall registers used in the vmcall </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00162">162</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a356fa738ea867acf5b3f2e84c5844ceb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a356fa738ea867acf5b3f2e84c5844ceb">&#9670;&nbsp;</a></span>platform_vmcall_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_vmcall_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvmcall__registers__t.html">vmcall_registers_t</a> *&#160;</td>
          <td class="paramname"><em>regs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>VMCall Event</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regs</td><td>the vmcall registers used in the vmcall </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00168">168</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a66abd5af63732215ea33a81556edf15b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66abd5af63732215ea33a81556edf15b">&#9670;&nbsp;</a></span>alloc_count_rw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int alloc_count_rw = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00032">32</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a57944eb6e4a022852985be0ce87bc566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57944eb6e4a022852985be0ce87bc566">&#9670;&nbsp;</a></span>alloc_count_rwe</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int alloc_count_rwe = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00033">33</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="aa4ac4849dabf040a0734f00b0798de9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4ac4849dabf040a0734f00b0798de9d">&#9670;&nbsp;</a></span>g_malloc_fails</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t g_malloc_fails = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00037">37</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="a1892ac6adea4dfb4f52b190e5606c8eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1892ac6adea4dfb4f52b190e5606c8eb">&#9670;&nbsp;</a></span>g_set_afinity_fails</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t g_set_afinity_fails = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00038">38</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
<a id="aedca096dc1ec224a138efb889fbd5d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedca096dc1ec224a138efb889fbd5d2c">&#9670;&nbsp;</a></span>g_vmcall</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t g_vmcall = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="test_2platform_8c_source.html#l00039">39</a> of file <a class="el" href="test_2platform_8c_source.html">platform.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 28 2017 18:36:25 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
