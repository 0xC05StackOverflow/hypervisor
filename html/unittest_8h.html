<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/user/hypervisor/include/unittest.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">unittest.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="unittest_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structexception__state.html">exception_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunittest.html">unittest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacebfn"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebfn.html">bfn</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7505aa423e23dc46b5057db6198b2009"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a7505aa423e23dc46b5057db6198b2009">NO_HIPPOMOCKS_NAMESPACE</a></td></tr>
<tr class="separator:a7505aa423e23dc46b5057db6198b2009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c5088edc16955b34d6a6b40a5c5a408"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a6c5088edc16955b34d6a6b40a5c5a408">expect_true</a>(c)&#160;&#160;&#160;<a class="el" href="exit__handler__intel__x64__unittests_8h.html#a699f77d97635c969b9e5b1247bab5ffd">expect_true_with_args</a>(c, gsl::cstring_span&lt;&gt;(#c), gsl::cstring_span&lt;&gt;(__PRETTY_FUNCTION__), __LINE__)</td></tr>
<tr class="separator:a6c5088edc16955b34d6a6b40a5c5a408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06439525b5142ff0a1aea4f27f13ade8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a06439525b5142ff0a1aea4f27f13ade8">expect_false</a>(c)&#160;&#160;&#160;<a class="el" href="exit__handler__intel__x64__unittests_8h.html#abdfd977091ac883a6ab7b8d879d8809e">expect_false_with_args</a>(c, gsl::cstring_span&lt;&gt;(#c), gsl::cstring_span&lt;&gt;(__PRETTY_FUNCTION__), __LINE__)</td></tr>
<tr class="separator:a06439525b5142ff0a1aea4f27f13ade8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86faf297eb3f16a9cb7307e479be02f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a86faf297eb3f16a9cb7307e479be02f6">expect_exception</a>(f,  e)&#160;&#160;&#160;expect_exception_with_args(f, e, __PRETTY_FUNCTION__, __LINE__)</td></tr>
<tr class="separator:a86faf297eb3f16a9cb7307e479be02f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a4c4e9fced4c52753f129a4f62aec1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a52a4c4e9fced4c52753f129a4f62aec1">expect_no_exception</a>(f)&#160;&#160;&#160;expect_no_exception_with_args(f, __PRETTY_FUNCTION__, __LINE__)</td></tr>
<tr class="separator:a52a4c4e9fced4c52753f129a4f62aec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b267c33fb2a8d74d050ec829f940dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#ac5b267c33fb2a8d74d050ec829f940dd">RUN_UNITTEST_WITH_MOCKS</a>(a,  b)&#160;&#160;&#160;this-&gt;run_unittest_with_mocks(a,b, static_cast&lt;const char *&gt;(__PRETTY_FUNCTION__), __LINE__);</td></tr>
<tr class="separator:ac5b267c33fb2a8d74d050ec829f940dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac46db0bbc4411faf9a1205c640fba4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a1ac46db0bbc4411faf9a1205c640fba4">RUN_ALL_TESTS</a>(ut)&#160;&#160;&#160;[&amp;]() -&gt; decltype(auto) { (void) argc; (void) argv; ut _ut; <a class="el" href="test_2ioctl_8cpp.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> _ut.run(); }()</td></tr>
<tr class="separator:a1ac46db0bbc4411faf9a1205c640fba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a19229597cfcccacfcc864694004765b9"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a19229597cfcccacfcc864694004765b9">operator&quot;&quot; _ut_ree</a> (const char *str, std::size_t len)</td></tr>
<tr class="separator:a19229597cfcccacfcc864694004765b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66f398d6689b5d9bce844379f3439f4"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#ad66f398d6689b5d9bce844379f3439f4">operator&quot;&quot; _ut_lee</a> (const char *str, std::size_t len)</td></tr>
<tr class="separator:ad66f398d6689b5d9bce844379f3439f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c5034e8651fb1da5afe0f07d9925af"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#ab0c5034e8651fb1da5afe0f07d9925af">operator&quot;&quot; _ut_iae</a> (const char *str, std::size_t len)</td></tr>
<tr class="separator:ab0c5034e8651fb1da5afe0f07d9925af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48aa8583bbb4e1404775091442536bcd"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a48aa8583bbb4e1404775091442536bcd">operator&quot;&quot; _ut_ore</a> (const char *str, std::size_t len)</td></tr>
<tr class="separator:a48aa8583bbb4e1404775091442536bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e1cf9cd6d8ba0bad90f67f2aac4c73d"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a5e1cf9cd6d8ba0bad90f67f2aac4c73d">operator&quot;&quot; _ut_dme</a> (const char *str, std::size_t len)</td></tr>
<tr class="separator:a5e1cf9cd6d8ba0bad90f67f2aac4c73d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0704bc553dbb154089a76f79cd9c0b5b"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a0704bc553dbb154089a76f79cd9c0b5b">operator&quot;&quot; _ut_ffe</a> (const char *str, std::size_t len)</td></tr>
<tr class="separator:a0704bc553dbb154089a76f79cd9c0b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03b80a2a3ee80686e76f1fee6f7c76f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unittest_8h.html#ab03b80a2a3ee80686e76f1fee6f7c76f">operator&quot;&quot; _ut_bae</a> (const char *str, std::size_t len)</td></tr>
<tr class="separator:ab03b80a2a3ee80686e76f1fee6f7c76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332cd25191a5394b42b88e38caef3de0"><td class="memTemplParams" colspan="2">template&lt;class T , class  = typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:a332cd25191a5394b42b88e38caef3de0"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a332cd25191a5394b42b88e38caef3de0">make_ptr</a> (const T ptr)</td></tr>
<tr class="separator:a332cd25191a5394b42b88e38caef3de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe03a75dea6b39b561d9b8330b44b478"><td class="memTemplParams" colspan="2">template&lt;class P , class T , class  = typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:afe03a75dea6b39b561d9b8330b44b478"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="unittest_8h.html#afe03a75dea6b39b561d9b8330b44b478">make_ptr</a> (const T ptr)</td></tr>
<tr class="separator:afe03a75dea6b39b561d9b8330b44b478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373e86e6cd2361043ceddb1b5568e47e"><td class="memTemplParams" colspan="2">template&lt;class T , class  = typename std::enable_if&lt;std::is_pointer&lt;T&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:a373e86e6cd2361043ceddb1b5568e47e"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="unittest_8h.html#a373e86e6cd2361043ceddb1b5568e47e">make_uintptr</a> (const T ptr)</td></tr>
<tr class="separator:a373e86e6cd2361043ceddb1b5568e47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52cc2b70a01d3b7455a6cc017b26d87"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:af52cc2b70a01d3b7455a6cc017b26d87"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="unittest_8h.html#af52cc2b70a01d3b7455a6cc017b26d87">no_delete</a> (T *)</td></tr>
<tr class="separator:af52cc2b70a01d3b7455a6cc017b26d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f034375e5eae72019705c8ef74c3c47"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a9f034375e5eae72019705c8ef74c3c47"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebfn.html#a9f034375e5eae72019705c8ef74c3c47">bfn::mock_no_delete</a> (MockRepository &amp;mocks)</td></tr>
<tr class="separator:a9f034375e5eae72019705c8ef74c3c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6006b8ca4440770894e2dfe1ba3c8e1"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ae6006b8ca4440770894e2dfe1ba3c8e1"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebfn.html#ae6006b8ca4440770894e2dfe1ba3c8e1">bfn::mock_shared</a> (MockRepository &amp;mocks)</td></tr>
<tr class="separator:ae6006b8ca4440770894e2dfe1ba3c8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeaabca629a3d9d53426c33e6a703f8d"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:aeeaabca629a3d9d53426c33e6a703f8d"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacebfn.html#aeeaabca629a3d9d53426c33e6a703f8d">bfn::mock_unique</a> (MockRepository &amp;mocks)</td></tr>
<tr class="separator:aeeaabca629a3d9d53426c33e6a703f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7505aa423e23dc46b5057db6198b2009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7505aa423e23dc46b5057db6198b2009">&#9670;&nbsp;</a></span>NO_HIPPOMOCKS_NAMESPACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_HIPPOMOCKS_NAMESPACE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00040">40</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a6c5088edc16955b34d6a6b40a5c5a408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c5088edc16955b34d6a6b40a5c5a408">&#9670;&nbsp;</a></span>expect_true</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expect_true</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="exit__handler__intel__x64__unittests_8h.html#a699f77d97635c969b9e5b1247bab5ffd">expect_true_with_args</a>(c, gsl::cstring_span&lt;&gt;(#c), gsl::cstring_span&lt;&gt;(__PRETTY_FUNCTION__), __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expect True</p>
<p>This macro passes the boolean condition c along with the caller's name and line information to expect_true_with_args. This macro must be invoked on the unittest object using this.</p>
<div class="fragment"><div class="line">this-&gt;<a class="code" href="exit__handler__intel__x64__unittests_8h.html#a89143bc72222922053b0502fac46a7c3">expect_true</a>(1 == 0) <span class="comment">// unit test fails</span></div><div class="line">this-&gt;<a class="code" href="exit__handler__intel__x64__unittests_8h.html#a89143bc72222922053b0502fac46a7c3">expect_true</a>(1 == 1) <span class="comment">// unit test passes</span></div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00100">100</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a06439525b5142ff0a1aea4f27f13ade8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06439525b5142ff0a1aea4f27f13ade8">&#9670;&nbsp;</a></span>expect_false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expect_false</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">c</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="exit__handler__intel__x64__unittests_8h.html#abdfd977091ac883a6ab7b8d879d8809e">expect_false_with_args</a>(c, gsl::cstring_span&lt;&gt;(#c), gsl::cstring_span&lt;&gt;(__PRETTY_FUNCTION__), __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expect False</p>
<p>This macro passes the boolean condition c along with the caller's name and line information to expect_false_with_args. This macro must be invoked on the unittest object using this.</p>
<div class="fragment"><div class="line">this-&gt;<a class="code" href="exit__handler__intel__x64__unittests_8h.html#a87f13e774945b75ff6c04b5cfba5e009">expect_false</a>(1 == 0) <span class="comment">// unit test passes</span></div><div class="line">this-&gt;<a class="code" href="exit__handler__intel__x64__unittests_8h.html#a87f13e774945b75ff6c04b5cfba5e009">expect_false</a>(1 == 1) <span class="comment">// unit test fails</span></div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00114">114</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a86faf297eb3f16a9cb7307e479be02f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86faf297eb3f16a9cb7307e479be02f6">&#9670;&nbsp;</a></span>expect_exception</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expect_exception</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;expect_exception_with_args(f, e, __PRETTY_FUNCTION__, __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expect Exception</p>
<p>This macro is used to pass the function name and line number to expect_exception_with_args. The argument f is a function that takes no arguments and returns void. The argument e is a std::shared_ptr&lt;std::exception&gt; whose dynamic type is the same as the exception in the throw statement in function-under-test.</p>
<p>If the caller wishes to pass a function that takes arguments they must first std::bind the arguments or create a lambda with the desired call, and pass the result to expect_exception.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> g(<span class="keywordtype">int</span>, <span class="keywordtype">double</span>) { <span class="keywordflow">throw</span> std::logic_error(<span class="stringliteral">&quot;error&quot;</span>); };</div><div class="line"></div><div class="line"><span class="keyword">class </span>Foo {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> bar(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b)</div><div class="line">    {</div><div class="line">        b = b + a;</div><div class="line">        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;addition error&quot;</span>);</div><div class="line">    }</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> arg1 = 0;</div><div class="line"><span class="keywordtype">double</span> arg2 = 1.0;</div><div class="line">Foo foo;</div><div class="line"></div><div class="line"><span class="keyword">auto</span> f1 = std::bind(&amp;Foo::bar, &amp;foo, arg1, arg1);</div><div class="line"><span class="keyword">auto</span> f2 = std::bind(g, arg1, arg2);</div><div class="line"></div><div class="line"><span class="keyword">auto</span> e1 = std::make_shared&lt;std::runtime_error&gt;(<span class="stringliteral">&quot;addition error&quot;</span>));</div><div class="line"><span class="keyword">auto</span> e2 = std::make_shared&lt;std::logic_error&gt;(<span class="stringliteral">&quot;error&quot;</span>));</div><div class="line"></div><div class="line"><span class="comment">// unit test succeeds since foo.bar(arg1, arg1) throws runtime_error</span></div><div class="line">this-&gt;<a class="code" href="unittest_8h.html#a86faf297eb3f16a9cb7307e479be02f6">expect_exception</a>(f1, e1);</div><div class="line"></div><div class="line"><span class="comment">// unit test fails since runtime_error != logic_error</span></div><div class="line">this-&gt;<a class="code" href="unittest_8h.html#a86faf297eb3f16a9cb7307e479be02f6">expect_exception</a>(f1, e2);</div><div class="line"></div><div class="line"><span class="comment">// unit test succeeds since g(arg1, arg2) throws logic error</span></div><div class="line">this-&gt;<a class="code" href="unittest_8h.html#a86faf297eb3f16a9cb7307e479be02f6">expect_exception</a>(f2, e2);</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00162">162</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a52a4c4e9fced4c52753f129a4f62aec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a4c4e9fced4c52753f129a4f62aec1">&#9670;&nbsp;</a></span>expect_no_exception</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define expect_no_exception</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">f</td><td>)</td>
          <td>&#160;&#160;&#160;expect_no_exception_with_args(f, __PRETTY_FUNCTION__, __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expect No Exception</p>
<p>This macro is used to pass the function name and line number to expect_no_exception_with_args. The argument f is a callable object that returns void and takes no arguments</p>
<p>If the caller wishes to pass a function that takes arguments they must first std::bind the arguments or create a lambda with the desired call, and pass the result to expect_no_exception.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> g(<span class="keywordtype">int</span>, <span class="keywordtype">double</span>);</div><div class="line"></div><div class="line"><span class="keyword">class </span>Foo {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keywordtype">void</span> bar(<span class="keywordtype">int</span>, <span class="keywordtype">double</span>);</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> arg1 = 0;</div><div class="line"><span class="keywordtype">double</span> arg2 = 1.0;</div><div class="line">Foo foo;</div><div class="line"></div><div class="line"><span class="keyword">auto</span> f1 = std::bind(&amp;Foo::bar, &amp;foo, arg1, arg2);</div><div class="line"><span class="keyword">auto</span> f2 = std::bind(g, arg1, arg2);</div><div class="line"></div><div class="line"><span class="comment">// unit test fails if foo.bar(arg1, arg2) throws</span></div><div class="line">this-&gt;<a class="code" href="unittest_8h.html#a52a4c4e9fced4c52753f129a4f62aec1">expect_no_exception</a>(f1);</div><div class="line"></div><div class="line"><span class="comment">// unit test fails if g(arg1, arg2) throws</span></div><div class="line">this-&gt;<a class="code" href="unittest_8h.html#a52a4c4e9fced4c52753f129a4f62aec1">expect_no_exception</a>(f2);</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00198">198</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="ac5b267c33fb2a8d74d050ec829f940dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b267c33fb2a8d74d050ec829f940dd">&#9670;&nbsp;</a></span>RUN_UNITTEST_WITH_MOCKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUN_UNITTEST_WITH_MOCKS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;this-&gt;run_unittest_with_mocks(a,b, static_cast&lt;const char *&gt;(__PRETTY_FUNCTION__), __LINE__);</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run Unittests with Mocks</p>
<p>When using mocks, it's possible that hippomocks could throw an exception. For example, if you call a function on a mocked class that you have not setup an "OnCall" for. If this happens, a default function within hippomocks is called, that throws an exception.</p>
<p>To handle these types of issues, mocks should be used inside this function call using a lamda function. This way, if an exeption should occur, the unit test handles it properly. This call will also check to see if the mock's expectations are satisfied. If they are not, it will also fail the unit test.</p>
<div class="fragment"><div class="line">MockRepository mocks;</div><div class="line">Blah1 *blah1 = mocks.ClassMock&lt;Blah1&gt;();</div><div class="line">Blah2 *blah2 = <span class="keyword">new</span> Blah2;</div><div class="line"></div><div class="line">mocks.OnCall(blah1, Blah1::a).Return(<span class="keyword">false</span>);</div><div class="line"></div><div class="line"><a class="code" href="unittest_8h.html#ac5b267c33fb2a8d74d050ec829f940dd">RUN_UNITTEST_WITH_MOCKS</a>(mocks, [&amp;]</div><div class="line">{</div><div class="line">    this-&gt;<a class="code" href="exit__handler__intel__x64__unittests_8h.html#a89143bc72222922053b0502fac46a7c3">expect_true</a>(blah2-&gt;do_something(blah1) == <span class="keyword">true</span>);</div><div class="line">});</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00229">229</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a1ac46db0bbc4411faf9a1205c640fba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac46db0bbc4411faf9a1205c640fba4">&#9670;&nbsp;</a></span>RUN_ALL_TESTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUN_ALL_TESTS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ut</td><td>)</td>
          <td>&#160;&#160;&#160;[&amp;]() -&gt; decltype(auto) { (void) argc; (void) argv; ut _ut; <a class="el" href="test_2ioctl_8cpp.html#a9717e7bbecb906637e86cef6da3d83c2">return</a> _ut.run(); }()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run Unit Tests</p>
<p>This runs your unit test. Use the following to kick off your unit tests</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span></div><div class="line"><a class="code" href="bfdrivers_2test_2test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div><div class="line">{</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="unittest_8h.html#a1ac46db0bbc4411faf9a1205c640fba4">RUN_ALL_TESTS</a>(&lt;<a class="code" href="namespacex64_1_1cpuid_1_1addr__size.html#aef0586a791451faf093181e0464b6370">name</a> of unit test <span class="keyword">class</span>&gt;);</div><div class="line">}</div></div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00246">246</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a19229597cfcccacfcc864694004765b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19229597cfcccacfcc864694004765b9">&#9670;&nbsp;</a></span>operator"" _ut_ree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto operator&quot;&quot; _ut_ree </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00055">55</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="ad66f398d6689b5d9bce844379f3439f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad66f398d6689b5d9bce844379f3439f4">&#9670;&nbsp;</a></span>operator"" _ut_lee()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto operator&quot;&quot; _ut_lee </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00058">58</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="ab0c5034e8651fb1da5afe0f07d9925af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c5034e8651fb1da5afe0f07d9925af">&#9670;&nbsp;</a></span>operator"" _ut_iae()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto operator&quot;&quot; _ut_iae </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00061">61</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a48aa8583bbb4e1404775091442536bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48aa8583bbb4e1404775091442536bcd">&#9670;&nbsp;</a></span>operator"" _ut_ore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto operator&quot;&quot; _ut_ore </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00064">64</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a5e1cf9cd6d8ba0bad90f67f2aac4c73d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e1cf9cd6d8ba0bad90f67f2aac4c73d">&#9670;&nbsp;</a></span>operator"" _ut_dme()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto operator&quot;&quot; _ut_dme </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00067">67</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a0704bc553dbb154089a76f79cd9c0b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0704bc553dbb154089a76f79cd9c0b5b">&#9670;&nbsp;</a></span>operator"" _ut_ffe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto operator&quot;&quot; _ut_ffe </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00070">70</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="ab03b80a2a3ee80686e76f1fee6f7c76f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03b80a2a3ee80686e76f1fee6f7c76f">&#9670;&nbsp;</a></span>operator"" _ut_bae()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto operator&quot;&quot; _ut_bae </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00073">73</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a332cd25191a5394b42b88e38caef3de0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a332cd25191a5394b42b88e38caef3de0">&#9670;&nbsp;</a></span>make_ptr() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class  = typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto make_ptr </td>
          <td>(</td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00077">77</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="afe03a75dea6b39b561d9b8330b44b478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe03a75dea6b39b561d9b8330b44b478">&#9670;&nbsp;</a></span>make_ptr() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P , class T , class  = typename std::enable_if&lt;std::is_integral&lt;T&gt;::value&gt;::type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto make_ptr </td>
          <td>(</td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00081">81</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="a373e86e6cd2361043ceddb1b5568e47e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a373e86e6cd2361043ceddb1b5568e47e">&#9670;&nbsp;</a></span>make_uintptr()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class  = typename std::enable_if&lt;std::is_pointer&lt;T&gt;::value&gt;::type&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">auto make_uintptr </td>
          <td>(</td>
          <td class="paramtype">const T&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00085">85</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
<a id="af52cc2b70a01d3b7455a6cc017b26d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52cc2b70a01d3b7455a6cc017b26d87">&#9670;&nbsp;</a></span>no_delete()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void no_delete </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>No Delete</p>
<p>This is used by mock_shared to prevent a shared pointer from performing the deletion of the variable. In this case, mock is doing this for us. Note that this should not be used directly. </p>

<p class="definition">Definition at line <a class="el" href="unittest_8h_source.html#l00255">255</a> of file <a class="el" href="unittest_8h_source.html">unittest.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 28 2017 22:12:09 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
