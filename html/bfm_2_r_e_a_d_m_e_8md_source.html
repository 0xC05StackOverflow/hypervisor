<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/home/user/hypervisor/bfm/README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/user/hypervisor/bfm/README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="bfm_2_r_e_a_d_m_e_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Bareflank Manager (BFM) {#bfm_readme}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;## Description</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;The Bareflank manager (BFM) is the userspace application responsible for managing the VMM. BFM communicates with the driver entry point to tell the driver to load, start, stop and unload the VMM. It also is capable of getting the VMM&#39;s status, and dumping debug information from the VMM.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;## How It is Used</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;BFM itself is a simple, userspace application, written in C++ designed to be cross platform, and simple to use. It is however not intended to be the only application to talk to the driver entries, but rather the console based application that is officially supported by the Bareflank project. BFM is made up of a couple components:</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;- The command line parser</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;- IOCTL interface</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;- IOCTL driver</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;The command line parser is responsible for taking in the command line arguments passed to BFM, and decide what the user is looking to do. The IOCTL interface is an abstraction of the IOCTL interface the driver entries provide. Each driver entry has to provide it&#39;s own set of IOCTLs (for example, an IOCTL to a Windows driver is vastly different than one to a Linux driver), but the interface that BFM wants to drive can be common. Thus, the IOCTL code converts the BFM IOCTL interface to the different driver entry IOCTLs, and as can be seen by the code, there is one IOCTL interface per supported OS.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;The IOCTL driver takes the command line parser, and drives the IOCTL interface based on what the command line parser is stating the desired action is. Note that the IOCTL driver also asks the VMM what it&#39;s current status is, and will cleanup it&#39;s state accordingly. For example, if the VMM is currently started, and the user asks to start the VMM, BFM will stop the VMM, and then start it again. This is great for developers as it provides a simple means to work quickly.</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;## Limitations</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;BFM is pretty simple, and should work on most operating systems that support C++11. The biggest limitation with BFM at the moment is it cannot yet be extended. Since Bareflank aims to provide the scaffolding by which to create custom hypervisors, being able to extend the management application will be critical to the success of the project. Currently however, Bareflank does not have an internal hypercall interface, and thus has no ability to support such extensions. Future versions will address this issue. Hang tight if this is an issue.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;Bareflank 1.0 also does not support multi-core, and thus the BFM user interface will certainly change once multi-core support is added. Our goal is to keep the interface the same, and simply add additional options for specifying cores.</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;## Notes</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;At some point in the distant future, we intend to provide GUI support for Bareflank in addition to the console application. Although the console application is great for development, it&#39;s terrible for demonstrations which are sometimes critical when pursuing funding for research. Once the critical components of Bareflank are complete, extensible GUI support will be provided to further reduce the barrier to entry for hypervisor research.</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;Since BFM talks to the kernel, root privileges are required. This can make things a little frustrating in Linux as you have to elevate privileges and tell Linux where the libraries are located, as well as provide which options you want to run. To simplify this, the root repo provides some &quot;make xxx&quot; commands that can easily be run to execute BFM without having to type these commands in constantly. If these shortcuts are not sufficient, the user is encouraged to create their own scripts above and beyond what Bareflank already provides.</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 20 2016 15:38:37 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
